modules = ["python-3.11", "nodejs-18"]
run = "./start.sh"

[nix]
channel = "stable-23_11"

[env]
PYTHONPATH = "/home/runner/${REPL_SLUG}/backend"
PORT = "5000"

[deployment]
build = ["sh", "-c", "cd backend && pip install -r requirements.txt && cd ../frontend && npm install"]
run = ["sh", "-c", "./start.sh"]

[[ports]]
localPort = 3000
externalPort = 80

[[ports]]
localPort = 5000
externalPort = 3001